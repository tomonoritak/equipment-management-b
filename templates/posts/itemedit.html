{% extends "base.html" %}
{% load static %}
{% block content %}

<!-- スタイルの修正部分 -->
<style>
  .container {
      width: 80%;
      min-width: 500px;
      margin: 50px auto;
      background-color: #fff;
      border-radius: 5px;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: auto;
  }
    
  .box {
      width: 100%;
      margin: 10px auto;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      border-radius: 10px;
  }
    
  .form-group {
      margin-bottom: 15px;
      display: flex;
      align-items: center;
  }
    
  .form-group label {
      margin-right: 10px;
      flex: 0 0 150px;
      text-align: left;
      font-weight: bold;
  }
    
  .form-group input[type="text"],
  .form-group input[type="number"],
  .form-group textarea,
  .form-group input[type="file"],
  .form-group select {
      flex: 1;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      max-width: 1500px;
  }
    
  .btn {
      padding: 10px 20px;
      background-color: #007bff;
      border: none;
      border-radius: 5px;
      color: white;
      font-size: 16px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      transition: background-color 0.3s ease, transform 0.3s ease;
  }

  .btn-danger {
      background-color: #dc3545;
  }

  .btn-group {
      display: flex;
      gap: 10px;
      justify-content: center;
      margin-top: 20px;
  }
</style>

<!-- 保存と削除ボタンを横並びにする部分 -->
<div class="container">
  <h1>備品を編集</h1>
  
  <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      
      <!-- 名前入力フィールド -->
      <div class="form-group">
          <label for="{{ form.name.id_for_label }}">名前:</label>
          {{ form.name }}
      </div>
      
      <!-- カテゴリ選択フィールド -->
      <div class="form-group">
          <label for="{{ form.category.id_for_label }}">カテゴリ:</label>
          {{ form.category }}
      </div>
      
      <!-- 設置場所入力フィールド -->
      <div class="form-group">
          <label for="{{ form.location.id_for_label }}">設置場所:</label>
          {{ form.location }}
      </div>
      
      <!-- 説明入力フィールド -->
      <div class="form-group">
          <label for="{{ form.description.id_for_label }}">説明:</label>
          {{ form.description }}
      </div>
      
      <!-- 画像アップロードフィールド -->
      <div class="form-group">
          <label for="{{ form.image.id_for_label }}">画像:</label>
          {{ form.image }}
      </div>
      
      <!-- 在庫数表示フィールド（変更不可） -->
      <div class="form-group">
          <label for="{{ form.stock_quantity.id_for_label }}">在庫数:</label>
          <input type="text" id="{{ form.stock_quantity.id_for_label }}" name="{{ form.stock_quantity.html_name }}" value="{{ form.stock_quantity.value }}" readonly>
      </div>

      <!-- 管理者のみ表示されるステータスフィールド -->
      {% if user.is_superuser %}
          <div class="form-group">
              <label for="{{ form.status.id_for_label }}">ステータス:</label>
              {{ form.status }}
          </div>
      {% else %}
          <div class="form-group">
              <label for="{{ form.status.id_for_label }}">ステータス:</label>
              <input type="text" id="{{ form.status.id_for_label }}" name="{{ form.status.html_name }}" value="{{ form.status.value }}" readonly>
          </div>
      {% endif %}
      

      
      <!-- 保存と削除ボタンを横並びにする部分 -->
      <div class="btn-group">
          <button type="submit" class="btn">保存</button>
          <form action="{% url 'Posts:delete' posts.id %}" method="post">
              {% csrf_token %}
              <button type="submit" class="btn btn-danger">削除</button>
          </form>
      </div>
  </form>
</div>
{% endblock content %}